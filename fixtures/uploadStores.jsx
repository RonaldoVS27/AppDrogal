const axios = require('axios');

//Dados das lojas
const stores =
[
  
  {
    "sequencia": 290638,
    "situacao": 1,
    "descricaosituacao": "Em atendimento",
    "usuarioabertura": 4447,
    "nomeabertura": "JACQUELINE SANTOS CARDOSO",
    "setorabertura": 21,
    "descricaosetorabertura": "LOJA",
    "usuarioresponsavel": 8392,
    "nomeresponsavel": "RONALDO VIEIRA DA SILVA",
    "setor": 30,
    "descricaosetorresponsavel": "TI - SUPORTE",
    "titulo": "voip sem funcionamento",
    "descricao": "Boa tarde pessoal estamos com problemas em nosso voip a alguns dias, porém um dos aparelhos estavam funcionando, solicitamos um outro porém não funcionou.\nEstamos sem comunicação com as filias, por gentileza verifiquem para nós.\n\n\nExcelente dia!\n\nAtenciosamente.",
    "filial": 267,
    "nomefilial": "FILIAL 267 - DROGAL HOLAMBRA",
    "dataabertura": "2024-10-11T13:54:07",
    "dataultimainteracao": "2024-10-11T13:57:31",
    "datafinalizacao": null,
    "nota": null,
    "notaaceitavel": null,
    "comentarionota": null,
    "dataprevisao": null,
    "dataprimeirainteracaoatendimento": "2024-10-11T14:47:29",
    "dataultimainteracaoaguardandoresposta": null,
    "codigocategoria": 42,
    "categoriachamado": "VOIP",
    "statustarefas": null,
    "dataultimainteracaoaguardandofinalizacao": null,
    "dataprimeirainteracaoaguardandofinalizacao": null,
    "kmchegada": null,
    "placaveiculo": null,
    "datahoraexecucaoinicio": null,
    "datahoraexecucaofim": null,
    "codigoregiao": 0,
    "descregiao": "SEM REGIÃO",
    "qtdanexos": 0,
    "qtdexecutor": 0,
    "anexaimagem": 0,
    "datareabertura": null,
    "projeto": null,
    "nroprojeto": null,
    "filialatendimento": null,
    "nrocard": null,
    "avaliaaberturachamado": 1
  },
  {
    "sequencia":291050,
    "situacao":0,
    "descricaosituacao":"Aberto",
    "usuarioabertura":13401,
    "nomeabertura":"JENIFFER LARA DOS SANTOS",
    "setorabertura":21,
    "descricaosetorabertura":"LOJA",
    "usuarioresponsavel":null,
    "nomeresponsavel":null,
    "setor":30,
    "descricaosetorresponsavel":"TI - SUPORTE",
    "titulo":"Monitor parou de funcionar",
    "descricao":"bom dia!!!\n\nApos tempestade com varias quedas de energia na ultima sexta feira 11-10 , temos um monitor que parou de funcionar. Segue fotos.\n\nAt. te Jeiniffer",
    "filial":318,
    "nomefilial":"FILIAL 318 - DROGAL SAO JOSE D",
    "dataabertura":"2024-10-14T08:29:47",
    "dataultimainteracao":"2024-10-14T08:32:56",
    "datafinalizacao":null,
    "nota":null,
    "notaaceitavel":null,
    "comentarionota":null,
    "dataprevisao":null,
    "dataprimeirainteracaoatendimento":null,
    "dataultimainteracaoaguardandoresposta":null,
    "codigocategoria":136,
    "categoriachamado":"MONITOR SECUNDARIO",
    "statustarefas":null,
    "dataultimainteracaoaguardandofinalizacao":null,
    "dataprimeirainteracaoaguardandofinalizacao":null,
    "kmchegada":null,
    "placaveiculo":null,
    "datahoraexecucaoinicio":null,
    "datahoraexecucaofim":null,
    "codigoregiao":0,
    "descregiao":"SEM REGIÃO",
    "qtdanexos":1,
    "qtdexecutor":0,
    "anexaimagem":0,
    "datareabertura":null,
    "projeto":null,
    "nroprojeto":null,
    "filialatendimento":null,
    "nrocard":null,
    "avaliaaberturachamado":1
 },
 {
    "sequencia":291057,
    "situacao":0,
    "descricaosituacao":"Aberto",
    "usuarioabertura":10492,
    "nomeabertura":"JULIA GRECHI LOPES",
    "setorabertura":32,
    "descricaosetorabertura":"MARKETING",
    "usuarioresponsavel":null,
    "nomeresponsavel":null,
    "setor":30,
    "descricaosetorresponsavel":"TI - SUPORTE",
    "titulo":"TELA PISCANDO",
    "descricao":"Bom dia!\n\nO monitor da Enoe do marketing está piscando. Poderia verificar, por gentileza?\n\nObrigada. ",
    "filial":196,
    "nomefilial":"FILIAL 196 - DROGAL ADM",
    "dataabertura":"2024-10-14T08:48:33",
    "dataultimainteracao":"2024-10-14T08:50:51",
    "datafinalizacao":null,
    "nota":null,
    "notaaceitavel":null,
    "comentarionota":null,
    "dataprevisao":null,
    "dataprimeirainteracaoatendimento":null,
    "dataultimainteracaoaguardandoresposta":null,
    "codigocategoria":136,
    "categoriachamado":"MONITOR SECUNDARIO",
    "statustarefas":null,
    "dataultimainteracaoaguardandofinalizacao":null,
    "dataprimeirainteracaoaguardandofinalizacao":null,
    "kmchegada":null,
    "placaveiculo":null,
    "datahoraexecucaoinicio":null,
    "datahoraexecucaofim":null,
    "codigoregiao":0,
    "descregiao":"SEM REGIÃO",
    "qtdanexos":0,
    "qtdexecutor":0,
    "anexaimagem":0,
    "datareabertura":null,
    "projeto":null,
    "nroprojeto":null,
    "filialatendimento":null,
    "nrocard":null,
    "avaliaaberturachamado":1
 },
 {
    "sequencia":291065,
    "situacao":0,
    "descricaosituacao":"Aberto",
    "usuarioabertura":13483,
    "nomeabertura":"FLAVIA CIPRIANO ANSELMO",
    "setorabertura":21,
    "descricaosetorabertura":"LOJA",
    "usuarioresponsavel":null,
    "nomeresponsavel":null,
    "setor":30,
    "descricaosetorresponsavel":"TI - SUPORTE",
    "titulo":"SODEXO",
    "descricao":"Olá,\n\nOntem não conseguimos realizar a venda atraves do cartão SODEXO para uma cliente.\nFoi realizada tentativas nos caixas 1, 2 e POS.\nTentativas realizadas entre 12:00h e 12:30h.\n\nComo proceder?\n\nAtt, Flávia Cipriano.",
    "filial":349,
    "nomefilial":"FILIAL 349 - DROGAL ITAPIRA",
    "dataabertura":"2024-10-14T09:15:30",
    "dataultimainteracao":"2024-10-14T09:19:57",
    "datafinalizacao":null,
    "nota":null,
    "notaaceitavel":null,
    "comentarionota":null,
    "dataprevisao":null,
    "dataprimeirainteracaoatendimento":null,
    "dataultimainteracaoaguardandoresposta":null,
    "codigocategoria":93,
    "categoriachamado":"PDV",
    "statustarefas":null,
    "dataultimainteracaoaguardandofinalizacao":null,
    "dataprimeirainteracaoaguardandofinalizacao":null,
    "kmchegada":null,
    "placaveiculo":null,
    "datahoraexecucaoinicio":null,
    "datahoraexecucaofim":null,
    "codigoregiao":0,
    "descregiao":"SEM REGIÃO",
    "qtdanexos":0,
    "qtdexecutor":0,
    "anexaimagem":0,
    "datareabertura":null,
    "projeto":null,
    "nroprojeto":null,
    "filialatendimento":null,
    "nrocard":null,
    "avaliaaberturachamado":1
 },
 {
    "sequencia":291069,
    "situacao":0,
    "descricaosituacao":"Aberto",
    "usuarioabertura":5051,
    "nomeabertura":"CAMILA ALMEIDA GUERRA",
    "setorabertura":21,
    "descricaosetorabertura":"LOJA",
    "usuarioresponsavel":null,
    "nomeresponsavel":null,
    "setor":30,
    "descricaosetorresponsavel":"TI - SUPORTE",
    "titulo":"Voip não está funcionando",
    "descricao":"Olá bom dia,\n\nNosso voip não está funcionando\nPOderia verificar por favor.",
    "filial":120,
    "nomefilial":"FILIAL 120 - DROGAL RIO CLARO",
    "dataabertura":"2024-10-14T09:19:24",
    "dataultimainteracao":"2024-10-14T09:20:48",
    "datafinalizacao":null,
    "nota":null,
    "notaaceitavel":null,
    "comentarionota":null,
    "dataprevisao":null,
    "dataprimeirainteracaoatendimento":null,
    "dataultimainteracaoaguardandoresposta":null,
    "codigocategoria":42,
    "categoriachamado":"VOIP",
    "statustarefas":null,
    "dataultimainteracaoaguardandofinalizacao":null,
    "dataprimeirainteracaoaguardandofinalizacao":null,
    "kmchegada":null,
    "placaveiculo":null,
    "datahoraexecucaoinicio":null,
    "datahoraexecucaofim":null,
    "codigoregiao":0,
    "descregiao":"SEM REGIÃO",
    "qtdanexos":0,
    "qtdexecutor":0,
    "anexaimagem":0,
    "datareabertura":null,
    "projeto":null,
    "nroprojeto":null,
    "filialatendimento":null,
    "nrocard":null,
    "avaliaaberturachamado":1
 },
 {
    "sequencia":291090,
    "situacao":0,
    "descricaosituacao":"Aberto",
    "usuarioabertura":4542,
    "nomeabertura":"RAUL ROCHA DE BRITO",
    "setorabertura":21,
    "descricaosetorabertura":"LOJA",
    "usuarioresponsavel":null,
    "nomeresponsavel":null,
    "setor":30,
    "descricaosetorresponsavel":"TI - SUPORTE",
    "titulo":"Impressora enroscando folhas",
    "descricao":"Impressora não está funcionando a mesma está enroscando as folhas",
    "filial":2,
    "nomefilial":"FILIAL 002 - DROGAL DROGAPIRES",
    "dataabertura":"2024-10-14T10:09:48",
    "dataultimainteracao":"2024-10-14T10:10:44",
    "datafinalizacao":null,
    "nota":null,
    "notaaceitavel":null,
    "comentarionota":null,
    "dataprevisao":null,
    "dataprimeirainteracaoatendimento":null,
    "dataultimainteracaoaguardandoresposta":null,
    "codigocategoria":19,
    "categoriachamado":"IMPRESSORA HP",
    "statustarefas":null,
    "dataultimainteracaoaguardandofinalizacao":null,
    "dataprimeirainteracaoaguardandofinalizacao":null,
    "kmchegada":null,
    "placaveiculo":null,
    "datahoraexecucaoinicio":null,
    "datahoraexecucaofim":null,
    "codigoregiao":0,
    "descregiao":"SEM REGIÃO",
    "qtdanexos":0,
    "qtdexecutor":0,
    "anexaimagem":0,
    "datareabertura":null,
    "projeto":null,
    "nroprojeto":null,
    "filialatendimento":null,
    "nrocard":null,
    "avaliaaberturachamado":1
 },

]

//Função para enviar os dados
const uploadStores = async () => {
   const url = 'http://suporteappdrogal.ddns.com.br:18083/api/chamados';
   const token = '9daa01c9a2a011d52e3be0dadafe720ee349c7d77707081c0d9db457662f0a71db6b9c929ba3a813afe67fd0d49216ddbccfd773e5bfd1f0ca9fb9cfeb5ae0f1e7fee4712f24049e0be73433593f42a11ac9701394cd44d787ccd42ca324ed0b2a31b530c3b119b6db4905a41b05b339ba5ca21d0da42417e1224b69184e1055';
 
   for (const store of stores) {
     console.log('Iniciando envio :', store.descricaosituacao);
     console.log('Dados:', store);
 
     try {
       const response = await axios.post(url, { data: store }, {
         headers: {
           Authorization: `Bearer ${token}`,
           'Content-Type': 'application/json',
         }
       });
 
       console.log(`Dados adicionada com sucesso:`, response.data);
     } catch (error) {
       // Log de erro detalhado
       console.error(`Erro ao adicionar ${store.descricaosituacao}:`, error.response ? error.response.data : error.message);
       if (error.response) {
         console.error('Detalhes do erro:', error.response.status, error.response.headers);
       }
     }
   }
 };
 

// Executar a função
uploadStores();
